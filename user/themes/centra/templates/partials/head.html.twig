<!DOCTYPE html>
<html lang="{{ grav.language.getLanguage ?: 'en' }}">
<head>
    {% block head %}
    <meta charset="utf-8" />
    <title>{% if header.title %}{{ header.title }} | {% endif %}{{ site.title }}</title>
    {% for meta in page.metadata %}
    <meta {% if meta.name %}name="{{ meta.name }}" {% endif %}{% if meta.http_equiv %}http-equiv="{{ meta.http_equiv }}" {% endif %}{% if meta.charset %}charset="{{ meta.charset }}" {% endif %}{% if meta.property %}property="{{ meta.property }}" {% endif %}{% if meta.content %}content="{{ meta.content }}" {% endif %}/>
    {% endfor %}
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no, shrink-to-fit=no" />
    <link rel="icon" type="image/png" href="{{ url('theme://images/favicon.png') }}">

        {% block stylesheets %}
            {% do assets.addCss('theme://css/style.css',102) %}

            {% if browser.getBrowser == 'msie' and browser.getVersion >= 8 and browser.getVersion <= 9 %}
            {% endif %}

            {{ assets.css() }}
        {% endblock %}

        {% block javascripts %}
            {% do assets.addJs('jquery',101) %}
            {{ assets.js() }}
        {% endblock %}

    {% endblock %}
    <script>
        function toggleSearch() {
            document.getElementById("search").classList.toggle("show");
            document.getElementById("navigation-background").classList.toggle("show");
            document.getElementById("search-button").classList.toggle("close");
        }

        function toggleBurgerMenu() {
            document.getElementById("navigation-link-developers").classList.toggle("hide");
            document.getElementById("burger-menu").classList.toggle("close");
            document.getElementById("main-sidebar").classList.toggle("show-sidebar");
            document.getElementById("sidebar").classList.toggle("show-sidebar");
        }

        function togglePageSearch() {
            document.getElementById("toc-popup").classList.toggle("show");
        }

        function onScroll() {
            var bar = document.getElementById("request-access")
            var footer = document.getElementById("landing-page-footer");
            var bounding = footer.getBoundingClientRect();

            if (document.body.scrollTop > 500 || document.documentElement.scrollTop > 500) {
                bar.className = "fadeInDown request-access-bar";
              } else {
                bar.className = "fadeOutUp request-access-bar";
              }
            
            if (bounding.top < window.innerHeight) {
                bar.className = "fadeOutUp request-access-bar hide";
            }
        }

        function spinOnScroll() {
            var circle = document.getElementById("centra-commerce");

            window.addEventListener("scroll", function() {
                circle.style.transform = "rotate("+(window.pageYOffset / 5)+"deg)";
            });
        }

        function isSearchResults(event) {
            var searchResults = document.getElementById("search-results");
            var searchPageContent = document.getElementById("search-page-content");
            var background = document.getElementById("search-navigation-background");
            var searchWrapper = document.getElementById("tntsearch-wrapper")
            var input = document.getElementById("input-search");
            var isHidden = searchResults.style.display == "none";

            if (event.target.value.length === 0) {
                searchPageContent.classList.add("hide");
                background.classList.add("big-screen");
                searchWrapper.classList.remove("small-screen");
            } else {
                searchPageContent.classList.remove("hide");
                background.classList.remove("big-screen");
                searchWrapper.classList.add("small-screen");
            }
        }

        window.onscroll = function() {onScroll(), spinOnScroll()};
        window.addEventListener('load', () => {
            var input = document.getElementById("input-search");

            input.addEventListener('change', (event) => isSearchResults(event), false);
        }, false )
    </script>
</head>